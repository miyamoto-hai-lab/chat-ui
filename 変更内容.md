## .envの仕様の要望

- 任意の環境変数について，file::<ファイル名> と書くことで，そのファイルの内容を環境変数の値として扱うようにする．
- .envのtrue/falseは，true/falseだけでなく，大文字小文字を区別せず扱い，yes/noやon/off，enable/disable，enabled/disabledも扱えるようにする．（1/0は扱わない）
- 値の選択肢が決まっている場合，それ以外の選択肢が指定された場合はbuild時にエラーにする．エラー内容は日本語で分かりやすく書くこと．その環境変数自体が未定義の場合はデフォルト値を使用する．
- system_promptやdescriptionなどは`\n`で改行できるようにする．
- `NEXT_PUBLIC_ENABLE_PASSWORD_AUTH=true`は`NEXT_PUBLIC_AUTH_PASSWORD`に変更．空文字または未定義またはfalse系文字列（false, off, disable, disabled，大文字小文字区別なし）の場合は認証不要，値が指定された場合はそのパスワードを入れないと認証できないようにする．
- `NEXT_PUBLIC_ASSISTANT_RESPONSE_MODE`は`NEXT_PUBLIC_ASSISTANT_PROCESSING_STYLE`にリネーム．
- `NEXT_PUBLIC_ASSISTANT_RESPONSE_STYLE`を新設．`bubble`または`flat`を指定できるようにする．デフォルトは`bubble`．UI等の実装は行わなくてよい．env.ts等に変更を反映し，UI実装段階で変数の値を取れるように準備しておく．
- `NEXT_PUBLIC_MAX_CHAT_TURNS`はfalse系文字列，空文字，または0以下の値で制限なし．制限値ならその値をリミットとして扱う．
- `NEXT_PUBLIC_ON_MAX_CHAT_TURNS`を新設．'exit'ならNEXT_PUBLIC_MAX_CHAT_TURNSに達した時にチャットを終了（NEXT_PUBLIC_REDIRECT_URL_ON_EXITにリダイレクト）し，'message'なら画面中央にポップアップと終了ボタンを表示する．'nothing'なら何もしない．デフォルトは'nothing'．
- `NEXT_PUBLIC_ALLOW_USER_EXIT`を新設．以下に示すチャット終了ボタンをいつ表示するかを制御する．'never'なら常に非表示，'max'ならNEXT_PUBLIC_MAX_CHAT_TURNSに達した時に表示，'always'なら常に表示．デフォルトは'always'．
- Chat UIの右上，設定ボタンの右側に「チャットを終了」という背景が赤，文字色が白のボタンを設置する．
- 以下の大幅変更を実施する．
- すべての変更が終わったのち，README.mdおよびREADME_en.mdに新仕様ですべての環境変数の仕様を書くこと．現在の「**ビルド時カスタマイズ (環境変数)**」セクションはわかりにくいので，全て消してよい．標準的な設定ファイルのドキュメントの書き方（なじみあるレイアウト）で分かりやすく書いてください．
また，.env.localも全て消し，全ての変数をデフォルト値で書き込むこと．

## 大幅変更
今，以下のような設定形式でLLMモデル等が変更できる．
```
# UI設定の制御
NEXT_PUBLIC_ALLOW_USER_API_SERVER=true
NEXT_PUBLIC_ALLOW_USER_SYSTEM_PROMPT=true
NEXT_PUBLIC_ALLOW_EXPORT=true
NEXT_PUBLIC_ALLOW_USER_SHOW_THINKING=true

# デフォルト値と固定値
NEXT_PUBLIC_DEFAULT_API_SERVER=
NEXT_PUBLIC_DEFAULT_LLM_MODEL=
NEXT_PUBLIC_DEFAULT_API_KEY=
NEXT_PUBLIC_SYSTEM_PROMPT=
```
これを以下のようにしたい．
```
# LLMの設定
NEXT_PUBLIC_LLM_API_ENDPOINT=
NEXT_PUBLIC_LLM_MODEL=
NEXT_PUBLIC_LLM_API_KEY=
NEXT_PUBLIC_LLM_SYSTEM_PROMPT=
NEXT_PUBLIC_LLM_SHOW_THINKING=
NEXT_PUBLIC_ALLOW_IMPORT=
NEXT_PUBLIC_ALLOW_EXPORT=
```
`ALLOW_USER_xxx`は廃止し，デフォルト値を入力する形にする．
デフォルト値が入力された場合はそれを固定値として扱い，従来のALLOW_USER_xxx=falseの時のようにUIを非表示にする．
該当する項目が.envに未定義，空文字列または予約語`interactive`が指定された場合は，従来のALLOW_USER_xxx=trueの時のようにUIを表示し，ユーザが自由に設定できるようにする．

NEXT_PUBLIC_ALLOW_IMPORTは新設．EXPORTボタンの左にボタンを配置し，EXPORTと同様に未定義や前述の予約語が使われた場合はexportと同様にUIを非表示にする．
まだ実装は行わなくてよい．exportと同様にそのための準備コードを書いておくだけでよい．